Build and install instructions for osh!

--------
SYNOPSIS
	env [variable=value ...] make [target ...]
	make [variable=value ...] [target ...]

If the defaults described below match your desires and/or the
requirements of your system, you can build and install the entire
osh package by doing the following.

	% make
	# make install

...
Otherwise, continue reading for full build and install details.
See the EXAMPLES section at the end of this file for additional
help if needed.

---------
VARIABLES
The Makefile defines the following configuration variables (default
value listed).  The user can modify the default configuration by
passing the desired variable=value pair(s) on the command line.

	DESTDIR		Unset by default.  This may be used as a
			target directory for building/packaging
			binary packages if needed.

	PREFIX		Defaults to /usr/local.  This is the target
			directory where BINDIR, DOCDIR, MANDIR, and
			SYSCONFDIR are located by default.

	BINDIR		Defaults to $(PREFIX)/bin.  This is the target
			directory where the binaries are installed.

	DOCDIR		Defaults to $(PREFIX)/share/doc/$(OSH_VERSION).
			This is the target directory for the [ACILNPR]*
			package documentation and examples/* files.

	MANDIR		Defaults to $(PREFIX)/share/man/man1.  This is
			the target directory where the manual pages are
			installed.

	SYSCONFDIR	Defaults to $(PREFIX)/etc.  This is the target
			directory where the shell shall search for its
			system-wide rc (init and logout) files if such
			files are available on the system.  See also:

				http://v6shell.org/rc_files/

			...
			for example rc files.

	INSTALL		Defaults to /usr/bin/install.  The install(1)
			utility is used to copy the resulting binaries
			and manual pages to their final targets.

Mac OS X only:
The following configuration variable specifies the desired target
architecture(s) for compiling universal binaries and/or 64-bit
binaries and/or 32-bit binaries for Mac OS X running on Intel
and PowerPC Macs.

	MOXARCH		Unset by default.  Possible value(s) may include
			one or more of the following on supported systems:
			-arch x86_64, -arch ppc64, -arch i386, -arch ppc.
			See also EXAMPLES.

-------
TARGETS
The following targets are available.

	all		Default target is the same as typing `make'.
			Compiles everything.

	install		Installs all binaries, package documentation,
			examples, and manual pages.

	oshall		Compiles osh and generates manual pages.

	install-oshall	Installs osh binary, package documentation,
			examples, and manual pages.

	sh6all		Compiles sh6, glob6, if, goto, fd2 and
			generates manual pages.

	install-sh6all	Installs sh6all binaries, package documentation,
			and manual pages.

	clean-obj	Removes all object files.

	clean		Removes all binaries, object files, and other
			files generated during the build.

--------
EXAMPLES
The following example compiles osh for /opt/local.  It then installs
the osh binary into /opt/local/bin, package documentation and
examples into /opt/local/share/doc/$(OSH_VERSION), manual pages
into /opt/local/share/man/man1, and also sets SYSCONFDIR to
/opt/local/etc.

	% make PREFIX=/opt/local oshall
	# make PREFIX=/opt/local install-oshall

The following example compiles sh6, glob6, if, goto, and fd2 for
/usr/pkg.  It then installs these binaries into /usr/pkg/bin, package
documentation into /usr/pkg/share/doc/$(OSH_VERSION), and manual
pages into /usr/pkg/share/man/man1.

	% make PREFIX=/usr/pkg sh6all
	# make PREFIX=/usr/pkg install-sh6all

The following example compiles everything, configuring the shell
to search for its system-wide rc files in /etc instead of /usr/local/etc
by default.  It then installs the entire osh package into the default
location.

	% make SYSCONFDIR=/etc
	# make install

The following example compiles each program as a 2-way 32-bit
universal binary for Mac OS X running on Intel and PowerPC Macs.
It then installs the entire osh package into the default location.

	% make MOXARCH='-arch i386 -arch ppc'
	# make install

The following example shows what I do to compile and install the
osh package on OpenSolaris.

	% uname -srvm
	SunOS 5.11 snv_111b i86pc
	% which cc gmake ginstall
	/usr/gnu/bin/cc
	/usr/bin/gmake
	/usr/bin/ginstall
	% gmake
	# gmake INSTALL=/usr/bin/ginstall install

Jeffrey Allen Neitzel						2009/11/27

@(#)$Id$
