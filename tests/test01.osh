:
: " Test the goto(1) utility for correct behaviour. "
: -- 
: Jeffrey Allen Neitzel
:

: " Check that errors are detected correctly. "
$3'' ''; \
echo ': nothing' | $3 nothing; \
$3 FOO...........................................................64; \
echo; \
$3 1
	echo NOTREACHED; exit

: " Check that labels are found (or not found) appropriately. "
: 1
	$3 FOO..........................................................63
: 2
	$3 FOO
: 3
	$3 BAR
: 4
	$3 BAZ
: 5
	( $3 foo ; $3 bar ; $3 baz ) </dev/null
	$3 Not_a_label_in_$0...
		echo NOTREACHED; exit

:    	    	    	    	    	    	    	    	    	    	
: F
: FOO..............................................................67 - too long
: FOO.............................................................66 - too long
: FOO............................................................65 - too long
: FOO...........................................................64 - too long
: FOO..........................................................63 - not too long
	echo goto: FOO..........................................................63: label found; $3 2
: FOO.........................................................62 - not too long
: FOO........................................................61 - not too long
: FOO.......................................................60 - not too long
:    	    	    	    	    	    	    	    	    	    	
: B
: BAR..............................................................67 - too long
: BAR.............................................................66 - too long
: BAR............................................................65 - too long
: BAR...........................................................64 - too long
: BAR..........................................................63 - not too long
: BAR.........................................................62 - not too long
: BAR........................................................61 - not too long
: BAR.......................................................60 - not too long
:    	    	    	    	    	    	    	    	    	    	
: f
: foo..............................................................67 - too long
: foo.............................................................66 - too long
: foo............................................................65 - too long
: foo...........................................................64 - too long
: foo..........................................................63 - not too long
: foo.........................................................62 - not too long
: foo........................................................61 - not too long
: foo.......................................................60 - not too long
:    	    	    	    	    	    	    	    	    	    	
: b
: bar..............................................................67 - too long
: bar.............................................................66 - too long
: bar............................................................65 - too long
: bar...........................................................64 - too long
: bar..........................................................63 - not too long
: bar.........................................................62 - not too long
: bar........................................................61 - not too long
: bar.......................................................60 - not too long
:    	    	    	    	    	    	    	    	    	    	

:    	    	    	    	    	    	    	    	    	    	
: FAB
	echo goto: FAB: label found; $3 3
: FIG
	echo goto: FIG: label found; $3 3
: FUD
	echo goto: FUD: label found; $3 3
: FOO
	echo goto: FOO: label found; $3 3
: BAR
	echo goto: BAR: label found; $3 4
: BAZ
	echo goto: BAZ: label found; $3 5
echo NOTREACHED
